FJ.Notification=function(a,c,b){if(!a)throw"NOTIFICATION ERROR. Message cannot be null";if(c==FJ.NOTIF_NAVIGATION&&!b)throw"NOTIFICATION ERROR. Navigation type notifications require a slug";this.message=a;this.vars=null;this.type=c||FJ.NOTIF_EVENT;this.slug=b||"";this.postAction=this.action=null;var e=this;this.send=function(){FJ.Application.broadcast(e)}};FJ.Mediator=function(a){this.name=a;this.notify=function(a){this.update&&this.update(a)}};FJ.Router=new function(){var a=this,c=" ",b=document.location.href,e=b.indexOf("#"),g=0<e?b.substring(0,e):b,f=function(){var d=b.indexOf("#"),a=b.substring(d+2);return 0<d&&d!=b.length-1?a:c};this.start=function(d){c=d;a.navigateBySlug=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,f());setInterval(function(){document.location.href!=b&&(b=document.location.href,a.navigateBySlug.slug=f(),FJ.Application.broadcast(a.navigateBySlug))},100)};this.init=function(){FJ.Application.createMediator("router").update=
function(a){a.type==FJ.NOTIF_NAVIGATION&&(a=a.slug,FJ.Application.slug=a,b=g+"#/"+a,document.location.href=b)}}};
